# enum(列挙型)

## enumモジュールとは
- 列挙型クラスをサポートします。

## 列挙型とは
- Pythonのドキュメントにはこう書かれています。
```
列挙型は、一意の定数値に束縛された識別名 (メンバー) の集合です。
列挙型の中でメンバーの同一性を比較でき、列挙型自身でイテレートが可能です。
```
https://docs.python.org/ja/3.8/library/enum.html


## enum.Enumを使用した例
- 血液型を表すクラスがある
- 血液型はA, B, O, ABの4種類から成り立っています。

  ```python
  class BloodType:
    def __init__(self, type: str):
        self.type = type
  ```
  
- この書き方だと、ABO以外がはいるので、
    ```python
    class BloodType:
        def __init__(self, type: str):
            if type not in ('A', 'B', 'O', 'AB'):
                raise ValueError('妥当な血液型ではありません')
                self.type = type
    ```
    

- enumを使うことで、if文なしてスマートに記載ができる
    ```python
    import enum


    class BloodType(enum.Enum):
        A = 'A'
        B = 'B'
        O = 'O'
        AB = 'AB'


    def show_blood_type(bloodtype):
        if bloodtype == BloodType.A:
            print("A型です")
        elif bloodtype == BloodType.B:
            print("B型です")
        elif bloodtype == BloodType.O:
            print("O型です")
        elif bloodtype == BloodType.AO:
            print("AB型です")
        else:
            print("血液型が選択されていません")


    show_blood_type(BloodType.A)
    ```
    ```sh:実行結果
    A型です
　　```
  
## メリット
- 設定値を静的なオブジェクトとして扱うことができ、安全性を高めることができる。
    - `if bloodtype == "A":`で書くこともできるが、タイプミスなどが怖い
    - 
- 状態を管理するとき、メソッドを使うことができる。
- 文字列が変わったとしても数字で管理しているので、改修が簡単になる。



### enum.auto()
- 上記の例の場合、右辺の`"A"`、`"B"`の部分は意味をなさない。
- こういった場合は、`enum.auto()`で定義してしまう

```python
import enum


class BloodType(enum.Enum):
    A = enum.auto()
    B = enum.auto()
    O = enum.auto()
    AB = enum.auto()


def show_blood_type(bloodtype):
    if bloodtype == BloodType.A:
        print("A型です")
    elif bloodtype == BloodType.B:
        print("B型です")
    elif bloodtype == BloodType.O:
        print("O型です")
    elif bloodtype == BloodType.AO:
        print("AB型です")
    else:
        print("血液型が選択されていません")


show_blood_type(BloodType.A)
```


### enum.IntEnum
- IntEnumを使うと、enumで定義した列挙型をInt型にすることができる
```python
import enum


# class BloodType(enum.Enum):
class BloodType(enum.IntEnum):
    A = 1
    B = 2
    O = 3
    AB = 4


def show_blood_type(bloodtype):
    if bloodtype == BloodType.A:
        print("A型です")
    elif bloodtype == BloodType.B:
        print("B型です")
    elif bloodtype == BloodType.O:
        print("O型です")
    elif bloodtype == BloodType.AO:
        print("AB型です")
    else:
        print("血液型が選択されていません")


if __name__ == '__main__':
    show_blood_type(BloodType.B)
    show_blood_type(1)
    print(BloodType.O)
    print(int(BloodType.O))
```