## ファイル操作: カーソル位置の移動と取得

このセクションでは、`seek()`と`tell()`を使用したファイル操作について解説します。

### 事前準備
以下のコードを使用してテスト用のファイルを作成します。

```python
s = """\
AAA
BBB
CCC
DDD
"""

with open('test.txt', 'w') as f:
    f.write(s)
```

### 現在のカーソル位置を取得: `tell()`
- `tell()`メソッドを使うと、ファイル内の現在の読み取り位置（カーソル位置）を取得できます。

```python
with open('test.txt', 'r') as f:
    print(f'現在のカーソル位置: {f.tell()}')
    # 一文字読み込み
    print(f.read(1))
```

#### 出力例:
```
現在のカーソル位置: 0
A
```

### カーソル位置を移動: `seek()`
- `seek(offset, whence)` を使用して、ファイル内のカーソル位置を移動します。
  - `offset`: 移動するバイト数
  - `whence`: 基準位置（デフォルトは`0`）
    - `0`: ファイルの先頭から
    - `1`: 現在位置から
    - `2`: ファイルの末尾から

```python
with open('test.txt', 'r') as f:
    print(f'現在のカーソル位置: {f.tell()}')
    # 一文字読み込み
    print(f.read(1))

    # カーソル位置を移動
    f.seek(5)
    print(f'現在のカーソル位置: {f.tell()}')
    print(f.read(1))
```

#### 出力例:
```
現在のカーソル位置: 0
A
現在のカーソル位置: 5
B
```

### 改行コードの扱い
- ファイル内の改行コード（`\n`）も1文字としてカウントされます。カーソル位置を移動する際に考慮してください。

### エンコーディングの指定
- ファイルを開く際に文字コードを指定することで、文字化けを防止できます。

```python
with open('test.txt', 'r', encoding='utf-8') as f:
    print(f.read())
```

### 実用的なユースケース
1. **ログファイル解析**: 指定した位置から読み始めることで、大きなログファイルを効率的に解析できます。
2. **バイナリファイル操作**: バイナリデータを特定の位置から読み取る際に便利です。

---

`seek()`と`tell()`を活用することで、効率的かつ柔軟なファイル操作が可能になります。

