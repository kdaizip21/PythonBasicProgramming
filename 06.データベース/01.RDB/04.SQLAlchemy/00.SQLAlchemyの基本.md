# SQLAlchemy

- PythonのORM（オブジェクトリレーションマッパー）の一つ
- データベース間の差分を吸収してくれる
    - SQLite、MySQL、PostgreSQLの切り替えのための実装は変える必要はない。
- テーブルをオブジェクト指向的に扱うことができる
    ![alt text](image/00.SQLAlchemyの基本/image.png)
    
- ただし、ORMは必須ではない。オブジェクト指向的に使わないのであれば、不要である。
    - このあたりは、議論がある感じの世界


## 詳細
- ORM（Object-Relational Mapping）機能
    - オブジェクト指向的なアプローチでデータベースの操作が可能です。
    - Pythonのクラスをデータベースのテーブルにマッピングできます。
- Core機能
    - SQLのクエリをPythonのコードで表現できる機能を提供します。
    - SQLのクエリ構築がPythonicな方法で行えます。
- データベース接続管理
    - コネクションプールの管理やトランザクション管理が行えます。
- DBAPI (PEP 249) の実装
    - Pythonの標準的なデータベースAPI仕様に準拠しています。
    - 多くのデータベースバックエンドをサポートしています（SQLite, PostgreSQL, MySQLなど）。
- データベース独自の機能の抽象化
    - 異なるデータベースシステム間での移植性が高まります。
- セキュリティ
    - SQLインジェクション攻撃から保護する機能があります。
- モデル定義
    - データベーススキーマをPythonコードで定義できます。
    - マイグレーション（スキーマ変更）ツールと連携が可能です。
- 高いパフォーマンス
    - 効率的なデータ取得のための様々な最適化機能があります。
   
# 動作の流れ

0. データベースを作成する
1. データベースエンジンを設定する
2. テーブル定義の作成
3. テーブルの作成
4. データベースに接続するセッションを作成
5. データベース操作

# SQLAlchemyのDBエンジン設定
| Database   | Engine                                        |
| ---------- | --------------------------------------------- |
| MySQL      | mysql://scott:tiger@localhost/foo             |
| PostgreSQL | postgresql://scott:tiger@localhost/mydatabase |
| SqLite     | sqlite:////absolute/path/to/foo.db'           |


$lsx()