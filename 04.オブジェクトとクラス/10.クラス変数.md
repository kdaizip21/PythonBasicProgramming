# クラス変数

クラス変数は、クラスに関連付けられた変数で、すべてのインスタンスで共有されます。インスタンス変数とは異なり、クラス変数はクラス自体に属しており、インスタンス間で同じ値を保持します。

---

## クラス変数とインスタンス変数の違い

### インスタンス変数
- 各インスタンスに固有のデータを保持します。
- `self`を使って定義します。

### クラス変数
- クラス全体で共有されるデータを保持します。
- クラス名を使ってアクセスします。

---

## 基本例: クラス変数の定義と利用

以下の例では、`kind`がクラス変数として定義されています。

```python
class Person:
    kind = "human"  # クラス変数

    def __init__(self, name):
        self.name = name  # インスタンス変数

    def who_are_you(self):
        print(f"{self.name} is a {self.kind}")

# インスタンスの生成
a = Person("Alice")
b = Person("Bob")

# メソッドの呼び出し
a.who_are_you()  # Output: "Alice is a human"
b.who_are_you()  # Output: "Bob is a human"
```

**ポイント**:
- `kind`はすべてのインスタンスで共有されるクラス変数です。
- 各インスタンスの`name`は独立しています。

---

## クラス変数の特性: 共有されるデータ

クラス変数は、すべてのインスタンス間で共有されます。以下の例で確認してみましょう。

### 例: クラス変数の共有

```python
class T:
    words = []  # クラス変数

    def add_word(self, word):
        self.words.append(word)

# インスタンスを生成
c = T()
c.add_word("add 1")
c.add_word("add 2")

# 別のインスタンスを生成
d = T()
d.add_word("add 3")
d.add_word("add 4")

# クラス変数は共有される
print(c.words)  # Output: ["add 1", "add 2", "add 3", "add 4"]
print(d.words)  # Output: ["add 1", "add 2", "add 3", "add 4"]
```

**注意**:
- クラス変数はすべてのインスタンスで共有されるため、意図しない変更が影響を及ぼす可能性があります。

---

## クラス変数を使うべき場面

### 適切な用途
- 定数や設定値のように、インスタンス間で共有される必要があるデータに使用します。

### 不適切な用途
- 各インスタンスで異なるデータを保持する場合は、インスタンス変数を使用するべきです。

---

## 注意点

1. **インスタンス変数との混同を避ける**:
   - クラス変数を誤ってインスタンスごとに変更すると、意図しない結果を招く可能性があります。

2. **共有データの意図的な設計**:
   - クラス変数はすべてのインスタンスで共有されるため、データの競合を避ける設計が重要です。

---

## まとめ

- クラス変数は、クラス全体で共有されるデータを管理するための仕組みです。
- 適切に使用することで、コードの効率性と可読性を向上させることができます。
- インスタンス変数との違いを理解し、用途に応じて使い分けることが重要です。

次のトピックでは、クラスメソッドとスタティックメソッドについて詳しく解説します。

