# メソッドのオーバーライドと`super()`による親のメソッドの呼び出し

メソッドのオーバーライドとは、親クラスで定義されたメソッドを子クラスで再定義することを指します。オーバーライドを活用することで、親クラスの機能をカスタマイズしたり拡張したりすることが可能です。また、子クラスで親クラスのメソッドを呼び出す際に`super()`を使用することが一般的です。

## 基本概念

### メソッドのオーバーライド
- **オーバーライド**: 子クラスで同じ名前のメソッドを再定義して、親クラスのメソッドを上書きします。
- 子クラスでは親クラスのメソッドと同じ名前で新しい動作を定義できます。

### `super()`の役割
- **親クラスのメソッドを呼び出す**: 子クラス内で、親クラスのオリジナルのメソッドを使用したい場合に`super()`を利用します。
- **初期化処理の継承**: 親クラスの`__init__`メソッドを呼び出す際にも使用します。

---

## メソッドのオーバーライドの例

以下の例では、`Car`クラスの`run`メソッドを`ToyotaCar`クラスでオーバーライドしています。

```python
class Car:
    def run(self):
        print("車が走ります")

class ToyotaCar(Car):
    def run(self):
        print("トヨタの車が静かに走ります")

# オブジェクトの生成
generic_car = Car()
toyota = ToyotaCar()

# メソッドの呼び出し
generic_car.run()  # Output: "車が走ります"
toyota.run()      # Output: "トヨタの車が静かに走ります"
```

**ポイント**:
- 子クラスの`run`メソッドが親クラスの`run`メソッドを上書きしています。
- 親クラスと子クラスで異なる動作を持つメソッドを定義できます。

---

## `super()`を使った親クラスのメソッド呼び出し

子クラスで親クラスのメソッドを利用したい場合、`super()`を使用します。

### `super()`の基本例

以下の例では、`run`メソッドで親クラスの動作を引き継ぎつつ、新たな動作を追加しています。

```python
class Car:
    def run(self):
        print("車が走ります")

class ToyotaCar(Car):
    def run(self):
        super().run()  # 親クラスのrunメソッドを呼び出し
        print("トヨタの車がさらに快適に走ります")

# オブジェクトの生成
toyota = ToyotaCar()

toyota.run()
# Output:
# 車が走ります
# トヨタの車がさらに快適に走ります
```

**ポイント**:
- `super().run()`を使用することで、親クラスの`run`メソッドを呼び出しています。
- 子クラスで追加の処理を組み込むことができます。

---

## `__init__`メソッドと`super()`

親クラスの初期化処理を引き継ぐ場合も、`super()`を使用します。

### 初期化の継承

以下の例では、`ToyotaCar`クラスが`Car`クラスの`__init__`を継承しつつ、追加のプロパティを定義しています。

```python
class Car:
    def __init__(self, maker: str):
        self.maker = maker

class ToyotaCar(Car):
    def __init__(self, maker: str, model: str):
        super().__init__(maker)  # 親クラスの__init__を呼び出し
        self.model = model

    def display_info(self):
        print(f"メーカー: {self.maker}, モデル: {self.model}")

# オブジェクトの生成
toyota = ToyotaCar("Toyota", "Corolla")

toyota.display_info()  # Output: "メーカー: Toyota, モデル: Corolla"
```

**ポイント**:
- `super().__init__(maker)`で親クラスの初期化処理を呼び出しています。
- 親クラスの初期化を引き継ぎつつ、子クラス独自のプロパティを追加できます。

---

## 注意点

1. **親クラスのメソッドを完全に無視する場合**:
   - 子クラスで親クラスのメソッドを上書きすると、親クラスのメソッドは呼び出されません。
   - `super()`を使わない場合、親クラスのメソッドは実行されません。

2. **設計の注意**:
   - 必要以上にオーバーライドを使うとコードが複雑になります。
   - 親クラスと子クラスの責務を明確にして設計することが重要です。

---

## まとめ
- メソッドのオーバーライドを使うと、親クラスの動作を変更できます。
- `super()`を利用すると、親クラスのメソッドを呼び出しつつ子クラス独自の処理を追加できます。
- 適切な設計を心がけることで、コードの可読性と再利用性が向上します。

次のトピックでは、プロパティやセッター、ゲッターについて解説します。

